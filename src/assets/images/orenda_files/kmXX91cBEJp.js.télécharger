;/*FB_PKG_DELIM*/

__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}],d=[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[b,{alias:null,args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'},a],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}];return{kind:"SplitOperation",metadata:{},name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"if_viewer_can_see_going_button",plural:!1,selections:[b,a],storageKey:null},{alias:null,args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:d,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{alias:"privacy_scope_for_toast",args:c,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:d,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{alias:null,args:null,kind:"ScalarField",name:"can_join_group_chat",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"created_for_group",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"chat",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},a],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],storageKey:null}]}}();e.exports=a}),null);
__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPButton_event"}],storageKey:null}],type:"PublicRsvpStyleRenderer",abstractKey:null};e.exports=a}),null);
__d("PublicEventCometRSVPButton_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButton_event",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPMenuBase_event"},{alias:"privacy_scope_for_toast",args:b,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:b,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useEventsRSVPPrivacyToast_scope"}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'}],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{alias:null,args:null,kind:"ScalarField",name:"can_join_group_chat",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"created_for_group",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"chat",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],type:"Event",abstractKey:null}}();e.exports=a}),null);
__d("PublicEventCometRSVPButton.react",["ix","CometDeferredPopoverTrigger.react","CometRelay","CometTrackingCodeContext","EventCometActionContext","PublicEventCometRSVPButtonStrings","PublicEventCometRSVPButton_event.graphql","TetraButton.react","TetraCircleButton.react","TetraIcon.react","fbicon","react","requireDeferred","unrecoverableViolation","useEventCometJoinMessageDialog","useEventsRSVPPrivacyToast","useTriggeredStoryCTAHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=c("requireDeferred")("PublicEventCometRSVPMenuBase.react").__setRef("PublicEventCometRSVPButton.react"),n=c("requireDeferred")("PublicEventCometRSVPMutation").__setRef("PublicEventCometRSVPButton.react"),o=i!==void 0?i:i=b("PublicEventCometRSVPButton_event.graphql");function p(a){switch(a){case"GOING":return d("fbicon")._(h("498145"),16);case"WATCHED":return d("fbicon")._(h("479324"),16);default:return d("fbicon")._(h("477813"),16)}}function a(a){var b=a.colorWhenOff,e=a.colorWhenOn,f=a.event,g=a.iconIsHidden,i=g===void 0?!1:g;g=a.isUnlabeledRect;var q=g===void 0?!1:g;g=a.labelIsHidden;var r=g===void 0?!1:g,s=a.onRSVPChange;g=a.showAndDisableWhenCantRSVP;g=g===void 0?!1:g;a=a.showMenuOnLoad;a=a===void 0?!1:a;var t=d("CometRelay").useRelayEnvironment();f=d("CometRelay").useFragment(o,f);if(f==null)throw c("unrecoverableViolation")("event cannot be null","events");var u=f.can_join_group_chat,v=f.can_viewer_join,w=f.can_viewer_unwatch,x=f.can_viewer_watch,y=f.chat,z=f.connection_style,A=f.created_for_group,B=f.id,C=f.is_rsvp_disabled_for_viewer,D=f.privacy_scope_for_toast,E=f.viewer_watch_status;y=y==null?void 0:y.group_thread_subtype;var F=["DISCOVERABLE_PUBLIC_CHAT","DISCOVERABLE_PUBLIC_CHAT_V2"].includes(y);y=c("useEventCometJoinMessageDialog")({dialogEntrypoint:"action_bar",eventID:f.id,groupID:A==null?void 0:A.id,showSkipButton:!0});var G=y[0];y=D==null?void 0:(A=D.privacy_scope_renderer)==null?void 0:A.privacy_scope_for_location;D=c("useEventsRSVPPrivacyToast")(y);A=D[0];var H=D[1],I=l(c("EventCometActionContext")),J=l(c("CometTrackingCodeContext"));y=c("useTriggeredStoryCTAHandler")();var K=y[0],L=k(function(a){a==="WATCHED"&&K("EVENT_RSVP"),a!==E&&n.onReady(function(b){b=b.commit;b(t,B,a,I,J,function(a){s&&s(a),E==="UNWATCHED"&&(H&&H({withAction:!0}))});a==="GOING"&&Boolean(u)&&!F&&G()})},[E,K,t,B,I,J,u,F,s,H,G]);if(z!=="INTERESTED")return null;D=v!==!0&&x!==!0&&w!==!0;if(!g&&D)return null;var M=D||C===!0,N=E==="WATCHED";y=E==="GOING";if(N||y)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{event:f,onPrivacyChange:function(){H&&H({withAction:!1})},onRSVPChange:L},popoverResource:m,visibleOnLoad:a&&M,children:function(a,b){b={disabled:M,icon:i?null:p(E),onPress:b,ref:a,testid:"rsvp-button"};a=N?d("PublicEventCometRSVPButtonStrings").Interested(E):d("PublicEventCometRSVPButtonStrings").Going(E);if(!r)return j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},b,{addOnSecondary:j.jsx(c("TetraIcon.react"),{color:M?"disabled":e==="blue"?"highlight":"primary",icon:d("fbicon")._(h("492446"),12)}),label:a,reduceEmphasis:e==="blue",type:e==="blue"?"primary":"secondary"}));else return q?j.jsx("div",{className:"x10h3iyq",children:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},b,{label:a,labelIsHidden:!0,reduceEmphasis:e==="blue",type:e==="blue"?"primary":"secondary"}))}):j.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},b,{color:e==="blue"?"highlight":"secondary",icon:p(E),label:a,size:36,type:e==="blue"&&!M?"deemphasized-overlay":"normal"}))}}),A]});z={disabled:M,icon:i?null:d("fbicon")._(h("479360"),16),label:d("PublicEventCometRSVPButtonStrings").Interested(E),onPress:function(){return L("WATCHED")},testid:"rsvp-button"};if(!r)return j.jsxs(j.Fragment,{children:[j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},z,{reduceEmphasis:b==="blue",type:b==="blue"?"primary":"secondary"})),A]});else return j.jsxs(j.Fragment,{children:[q?j.jsx("div",{className:"x10h3iyq",children:j.jsx(c("TetraButton.react"),babelHelpers["extends"]({},z,{labelIsHidden:!0,reduceEmphasis:b==="blue",type:b==="blue"?"primary":"secondary"}))}):j.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},z,{color:b==="blue"?"highlight":"secondary",icon:d("fbicon")._(h("479360"),16),size:36,type:b==="blue"?"deemphasized-overlay":"normal"})),A]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PublicEventCometRSVPButtonRenderer.react",["CometRelay","PublicEventCometRSVPButton.react","PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql");function a(a){var b=a.rsvpStyleRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["rsvpStyleRenderer"]);b=d("CometRelay").useFragment(j,b);b=b.event;if(b==null)throw c("unrecoverableViolation")("event cannot be null","events");return i.jsx(c("PublicEventCometRSVPButton.react"),babelHelpers["extends"]({event:b},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useEventCometInviteRelayInviteMutation",["CometRelay","EventCometActionContext","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=c("requireDeferred")("EventCometInviteRelayInviteMutation").__setRef("useEventCometInviteRelayInviteMutation");function a(a){var b=a.onSuccess,e=b===void 0?c("emptyFunction"):b;b=a.onError;var f=b===void 0?c("emptyFunction"):b,g=d("CometRelay").useRelayEnvironment(),k=i(c("EventCometActionContext"));return h(function(a){var b=a.eventID,c=a.tokens;j.onReady(function(a){a=a.commit;a({acontext:k,environment:g,eventID:b,onError:f,onSuccess:e,tokens:c})})},[k,g,f,e])}g["default"]=a}),98);